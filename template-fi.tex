% --- Template for thesis / report with tktltiki2 class ---

\documentclass[finnish]{tktltiki2}

% tktltiki2 automatically loads babel, so you can simply
% give the language parameter (e.g. finnish, swedish, english, british) as
% a parameter for the class: \documentclass[finnish]{tktltiki2}.
% The information on title and abstract is generated automatically depending on
% the language, see below if you need to change any of these manually.
% 
% Class options:
% - grading                 -- Print labels for grading information on the front page.
% - disablelastpagecounter  -- Disables the automatic generation of page number information
%                              in the abstract. See also \numberofpagesinformation{} command below.
%
% The class also respects the following options of article class:
%   10pt, 11pt, 12pt, final, draft, oneside, twoside,
%   openright, openany, onecolumn, twocolumn, leqno, fleqn
%
% The default font size is 11pt. The paper size used is A4, other sizes are not supported.
%
% rubber: module pdftex

% --- General packages ---

\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{amsfonts,amsmath,amssymb,amsthm,booktabs,color,enumitem,graphicx}
\usepackage[pdftex,hidelinks]{hyperref}

% Automatically set the PDF metadata fields
\makeatletter
\AtBeginDocument{\hypersetup{pdftitle = {\@title}, pdfauthor = {\@author}}}
\makeatother

% --- Language-related settings ---
%
% these should be modified according to your language

% babelbib for non-english bibliography using bibtex
\usepackage[fixlanguage]{babelbib}
\selectbiblanguage{finnish}

% add bibliography to the table of contents
\usepackage[nottoc]{tocbibind}
% tocbibind renames the bibliography, use the following to change it back
\settocbibname{Lähteet}

% --- Theorem environment definitions ---

\newtheorem{lau}{Lause}
\newtheorem{lem}[lau]{Lemma}
\newtheorem{kor}[lau]{Korollaari}

\theoremstyle{definition}
\newtheorem{maar}[lau]{Määritelmä}
\newtheorem{ong}{Ongelma}
\newtheorem{alg}[lau]{Algoritmi}
\newtheorem{esim}[lau]{Esimerkki}

\theoremstyle{remark}
\newtheorem*{huom}{Huomautus}


% --- tktltiki2 options ---
%
% The following commands define the information used to generate title and
% abstract pages. The following entries should be always specified:

\title{Tietokantakyselyjen optimointi relaatiotietokannassa}
\author{Olli Rissanen}
\date{\today}
\level{Kandidaatintutkielma}
\abstract{Tutkielmassa tutustutaan tietokantakyselyjen optimointiin relaatiotietokantojen hallintajärjestelmien osalta sekä optimoinnin vaikutukseen kyselyjen suorituskyvyssä. Tärkeimmät suorituskykymittarit ovat prosessorin ja muistin käyttö. }

% The following can be used to specify keywords and classification of the paper:

\keywords{Information systems → Query optimization}
\classification{} % classification according to ACM Computing Classification System (http://www.acm.org/about/class/)
                  % This is probably mostly relevant for computer scientists

% If the automatic page number counting is not working as desired in your case,
% uncomment the following to manually set the number of pages displayed in the abstract page:
%
% \numberofpagesinformation{16 sivua + 10 sivua liitteissä}

\begin{document}

% --- Front matter ---

\maketitle
\makeabstract
\tableofcontents
\newpage


% --- Main matter ---

\section{Johdanto}

Tietokantojen suorituskyky on yhä tärkeämpää tiedon määrän kasvaessa. Automatisoidulla optimoinnilla voidaan kasvattaa ohjelmistojen suorituskykyä ja nopeuttaa tietokantojen käyttäjien tiedonhakua (data-access?). Optimointi on ydintekijä erityisesti relaatiomalliin pohjautuvien tietokannan hallintajärjestelmän menestyksessä. 

Tietokannan hallintajärjestelmä on kokoelma ohjelmia tiedon tallentamiseen, muokkaamiseen sekä tiedon keräämiseen tietokannasta. Tietokannan rakenteen monimutkaistuessa tieto voidaan kerätä usealla eri tavalla, ja samankaltaisten kyselyjen erot voivat olla erittäin suuria. Hallintajärjestelmän sisältämän kyselyoptimoijan tehtävänä on löytää kyselylle suorituskykyisin kyselysuunnitelma mahdollisimman nopeasti. Optimoinnilla saavutettu prosessorin ja muistin käytön väheneminen kyselyjä suoritettaessa parantaa tietokannan suorituskykyä huomattavasti.

Kyselyoptimoijan tavoitteena on minimoida itse optimointiin käytetty aika ja maksimoida optimoinnista saatu hyöty. Kyselyoptimoija toimii etsien kyselyä vastaavat mahdolliset kyselysuunnitelmat ja valitsemalla niistä tehokkaimman. Kyselysuunnitelma sisältää sarjan algebrallisia operaatioita tietokannan relaatioille jotka tuottavat tulokseksi halutun vastauksen.  Tietokantakyselyä vastaavia kyselysuunnitelmia voi olla useita, sillä kyselyiden algebralliset esitykset voidaan usein esittää monena loogisesti vastaavana esityksenä. Algebrallista operaatiota kohden voi myös löytyä useita toteutuksia, kuten join-operaatiota toteuttavat merge join ja hash join.  Haasteena on tehokkaan kyselysuunnitelman luominen ja kyselysuunnitelmien suorituskyvyn etukäteinen ennustaminen. 

Tutkielman rakenteesta

%
%• Yleinen selostus tutkimusaiheen laajemmasta tutkimusalueesta, tutkimuksen kontekstista.
%• Ratkaistavan tutkimusongelman selostus (vaikeus, esteet, haasteet).
%• Lyhyt katsaus ongelman olemassa oleviin tai tavanomaisiin ratkaisuihin ja niiden rajoitteisiin.
%• Hahmotelma tai yhteenveto ehdotettavasta uudesta ratkaisusta.
%• Yhteenveto ratkaisun arvioimistavasta ja arvioinnin seurauksista.
%• Luonnehdinta artikkelin vartalon jäsennyksestä (ellei sisälly edellisiin)
%
%Johdanto sisältää välttämättä viittauksia relevanttiin kirjallisuuteen:
%keskeisen taustakirjallisuuden pitää käydä ilmi johdannosta.
%Johdantoa ei saa kuormittaa teknisellä terminologialla, käsitteiden määritelmillä, monimutkaisella matematiikalla eikä syvällisellä kirjallisuuden
%tarkastelulla; niiden paikka on muualla.
%Johdannon pitää olla artikkelin helppolukuisin kohta, eikä se saa olla
%kovin pitkä

%motivaatio: miksi ongelma on mielenkiintoinen? mitkä ovat merkittävät seikat

%todo: työn rakenne kuitenkaan toistamatta liikaa sisällysluetteloa

\section{workname: Taustaluku}
Tietokannan hallintajärjestelmien jako: query optimizer ja query execution engine.

Tietokantakyselyiden optimoinnilla viitataan tietokantakyselyn suorittamiseen mahdollisimman tehokkaasti. Optimoinnin tavoitteena on joko maksimoida suorituskyky annetuilla resursseilla tai minimodia resurssien käyttö. Mitattavia resursseja ovat suorittimen ja muistin käyttö sekä kommunikointikustannukset. Muistin käyttö jakautuu tallennuskustannukseen sekä ulkomuistiin pääsyn kustannukseen. Tallennuskustannuksella tarkoitetaan ulkomuistin sekä puskurimuistin käyttöä, ja se tulee aiheelliseksi kun muistin käyttö aiheutuu pullonkaulaksi. 

Resurssin merkitys riippuu tietokantatyypistä. Hajautetuissa tietokannoissa hitailla yhteysväylillä kommunikointikustannukset hallitsevat kustannuksia. Paikallisesti hajautetuissa tietokannoissa kaikilla resursseilla on sama painoarvo. Keskitetyissä tietokannoissa ulkomuistiin pääsyn kustannus ja prosessorin käyttö ovat oleellisia. Tämän tutkielman aihepiiriin kuuluu vain keskitettyjen tietokantojen optimointi.

todo: liitoskohta

Relaatiotietokanta on relaatiomalliin perustuva tietokanta. Relaatiomallin keskeinen piirre on kaiken datan esittäminen n-paikkaisen karteesisen tulon osajoukkona, ja se tarjoaa deklaratiivisen menetelmän datan ja kyselyjen määrittämiseen. Relaatiomalli koostuu attribuuteista, monikoista ja relaatioista. Matemaattisessa määritelmässä attribuutti on pari joka sisältää attribuutin nimen ja tyypin sekä jokaiseen attribuuttiin liittyy sen arvojoukko. Monikko on järjestetty joukko attribuuttien arvoja. Relaatio koostuu otsakkeesta ja sisällöstä(body?), jossa otsake on joukko attribuutteja ja keho on joukko monikkoja. Relaation otsake on myös jokaisen monikon otsake. Visuaalisessa esityksissä relaatio on taulukko ja monikko taulukon rivi. 

todo: SQL ja relaatiomalli

todo: relaatiotietokanta vs no-sql

todo: optimoi menee

\cite{chaudhuri1998}

\section{menetelmä 1}
\section{menetelmä 2}
\section{menetelmä n}
\section{menetelmien vertailu}
\section{case study?}
\section{yhteenveto}

% Write some science here.


% --- Back matter ---
%
% bibtex is used to generate the bibliography. The babplain style
% will generate numeric references (e.g. [1]) appropriate for theoretical
% computer science. If you need alphanumeric references (e.g [Tur90]), use
%
% \bibliographystyle{babalpha}
%
% instead.

\bibliographystyle{babplain}
\bibliography{references-fi}


\end{document}
